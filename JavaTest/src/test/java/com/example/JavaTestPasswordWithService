package com.example;
public class JavaTestPasswordWithService {

    private PasswordStrengthService passwordStrengthService;

    // Constructor para inyectar el servicio externo
    public JavaTestPasswordWithService(PasswordStrengthService passwordStrengthService) {
        this.passwordStrengthService = passwordStrengthService;
    }

    public enum SecurityLevel {
        WEAK, MEDIUM, STRONG
    }
public SecurityLevel assessPassword(String password) {

        if (password.length() < 8) {
            return SecurityLevel.WEAK;
        }

        if (password.matches("[a-zA-Z]+")) {
            return SecurityLevel.WEAK;
        }

        if (password.matches("[a-zA-Z0-9]+")) {
            return SecurityLevel.MEDIUM;
        }

        // AquÃ­ usamos el servicio externo
        if (passwordStrengthService.isStrongPassword(password)) {
            return SecurityLevel.STRONG;
        }

        return SecurityLevel.MEDIUM;
    }
}
